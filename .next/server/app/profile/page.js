(()=>{var e={};e.id=178,e.ids=[178],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},964:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=t(482),s=t(9108),i=t(2563),n=t.n(i),o=t(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5648)),"C:\\Users\\bcpre\\Documents\\liftlog\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7072)),"C:\\Users\\bcpre\\Documents\\liftlog\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\bcpre\\Documents\\liftlog\\src\\app\\profile\\page.tsx"],u="/profile/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1475:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,3982,23))},3806:(e,r,t)=>{Promise.resolve().then(t.bind(t,4755)),Promise.resolve().then(t.bind(t,4157)),Promise.resolve().then(t.bind(t,7590))},116:(e,r,t)=>{Promise.resolve().then(t.bind(t,6589))},6589:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var a=t(5344),s=t(3729),i=t(3890),n=t(8428),o=t(4755);function l(){let e=(0,i.e)(),r=(0,n.useRouter)(),[t,l]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[u,p]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[x,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{let{data:{user:t}}=await e.auth.getUser();if(!t){r.push("/login");return}g(t.id);let{data:a,error:s}=await e.from("profiles").select("*").eq("id",t.id).single();s?(console.error("Error loading profile:",s),o.toast.error("Failed to load profile")):a&&(p(a.full_name||""),h(a.avatar_url||"")),l(!1)})()},[r,e]);let f=async()=>{if(!x)return;c(!0);let t={id:x,full_name:u,avatar_url:m,updated_at:new Date().toISOString()},{error:a}=await e.from("profiles").upsert(t);a?(o.toast.error("Failed to update profile"),console.error(a)):(o.toast.success("Profile updated!"),r.refresh()),c(!1)};return t?a.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading profile..."}):(0,a.jsxs)("div",{style:{maxWidth:"600px",margin:"40px auto",padding:"0 20px"},children:[a.jsx("h1",{style:{fontSize:"2rem",marginBottom:"2rem"},children:"Profile"}),(0,a.jsxs)("div",{style:{background:"var(--bg-card)",padding:"30px",borderRadius:"var(--radius)",border:"1px solid var(--border-color)"},children:[a.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:a.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",background:"var(--bg-secondary)",border:"2px solid var(--border-color)"},children:m?a.jsx("img",{src:m,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):a.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)"},children:"No Img"})})}),(0,a.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Full Name"}),a.jsx("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"John Doe",style:{width:"100%",padding:"10px",borderRadius:"var(--radius)",border:"1px solid var(--border-color)",background:"var(--input-bg)",color:"var(--text-primary)"}})]}),(0,a.jsxs)("div",{style:{marginBottom:"2rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Avatar Image"}),a.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:a.jsx("input",{type:"file",accept:"image/*",onChange:async r=>{if(!r.target.files||0===r.target.files.length)return;let t=r.target.files[0],a=t.name.split(".").pop(),s=`${x}-${Math.random()}.${a}`;c(!0);let{error:i}=await e.storage.from("avatars").upload(s,t);if(i){o.toast.error("Error uploading image"),console.error(i),c(!1);return}let{data:{publicUrl:n}}=e.storage.from("avatars").getPublicUrl(s);h(n),c(!1)},style:{color:"var(--text-primary)"}})}),a.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Or paste a URL below:"}),a.jsx("input",{type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"https://example.com/avatar.jpg",style:{width:"100%",padding:"10px",borderRadius:"var(--radius)",border:"1px solid var(--border-color)",background:"var(--input-bg)",color:"var(--text-primary)"}})]}),a.jsx("button",{onClick:f,className:"btn btn-primary",disabled:d,style:{width:"100%",padding:"12px"},children:d?"Saving...":"Update Profile"})]})]})}},4157:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var a=t(5344),s=t(6506),i=t(3921),n=t.n(i),o=t(3890),l=t(3729),d=t(8428),c=t(8714),u=t(7180),p=t(9558);function m(){let{setTheme:e,theme:r}=(0,p.F)();return(0,a.jsxs)("button",{onClick:()=>e("light"===r?"dark":"light"),style:{background:"none",border:"1px solid var(--border)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-primary)"},"aria-label":"Toggle theme",children:[a.jsx(c.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0",style:{display:"dark"===r?"none":"block"}}),a.jsx(u.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100",style:{display:"dark"===r?"block":"none"}})]})}function h(){let[e,r]=(0,l.useState)(null),t=(0,d.usePathname)(),i=(0,o.e)();(0,l.useEffect)(()=>{(async()=>{let{data:{user:e}}=await i.auth.getUser();r(e)})();let{data:{subscription:e}}=i.auth.onAuthStateChange((e,t)=>{r(t?.user??null)});return()=>e.unsubscribe()},[]);let c=async()=>{await i.auth.signOut(),window.location.href="/"};return(0,a.jsxs)("nav",{className:n().nav,children:[a.jsx(s.default,{href:"/",className:n().logo,children:"LiftLog"}),(0,a.jsxs)("div",{className:n().links,children:[a.jsx(m,{}),a.jsx(s.default,{href:"/dashboard",className:`${n().link} ${"/dashboard"===t?n().linkActive:""}`,children:"Dashboard"}),a.jsx(s.default,{href:"/leaderboard",className:`${n().link} ${"/leaderboard"===t?n().linkActive:""}`,children:"Leaderboard"}),e?(0,a.jsxs)(a.Fragment,{children:[a.jsx(s.default,{href:"/profile",className:`${n().link} ${"/profile"===t?n().linkActive:""}`,children:"Profile"}),a.jsx("button",{onClick:c,className:n().link,children:"Sign Out"})]}):a.jsx(s.default,{href:"/login",className:n().link,children:"Sign In"})]})]})}},7590:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ThemeProvider:()=>i});var a=t(5344);t(3729);var s=t(9558);function i({children:e,...r}){return a.jsx(s.f,{...r,children:e})}},3890:(e,r,t)=>{"use strict";t.d(r,{e:()=>s});var a=t(4144);function s(){return(0,a.AY)("https://svqlrwwchfhyinqinbuo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN2cWxyd3djaGZoeWlucWluYnVvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2OTkxMDA2OCwiZXhwIjoyMDg1NDg2MDY4fQ.VpbGvrgtuzIuE6s_QYwsTrHWSijtSzrO7vTJcSOayx0")}},3921:e=>{e.exports={nav:"Navbar_nav__A66_N",logo:"Navbar_logo__UM0Ax",links:"Navbar_links__lFeE5",link:"Navbar_link__9Nm3x",linkActive:"Navbar_linkActive__zye8w"}},7072:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x,metadata:()=>h});var a=t(5036);t(5023);var s=t(6843);let i=(0,s.createProxy)(String.raw`C:\Users\bcpre\Documents\liftlog\src\components\Navbar.tsx`),{__esModule:n,$$typeof:o}=i,l=i.default;var d=t(7171);let c=(0,s.createProxy)(String.raw`C:\Users\bcpre\Documents\liftlog\src\components\ThemeProvider.tsx`),{__esModule:u,$$typeof:p}=c;c.default;let m=(0,s.createProxy)(String.raw`C:\Users\bcpre\Documents\liftlog\src\components\ThemeProvider.tsx#ThemeProvider`),h={title:"LiftLog",description:"Track your lifts and compete with friends."};function x({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:(0,a.jsxs)(m,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[(0,a.jsxs)("main",{className:"container",children:[a.jsx(l,{}),e]}),a.jsx(d.x7,{position:"top-center"})]})})})}},5648:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>s,default:()=>n});let a=(0,t(6843).createProxy)(String.raw`C:\Users\bcpre\Documents\liftlog\src\app\profile\page.tsx`),{__esModule:s,$$typeof:i}=a,n=a.default},5023:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[225,287],()=>t(964));module.exports=a})();